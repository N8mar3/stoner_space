(this["webpackJsonpcandy-machine-ui"]=this["webpackJsonpcandy-machine-ui"]||[]).push([[0],{107:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return O})),n.d(t,"f",(function(){return k}));var r=n(14),a=n(4),i=n(1),c=n.n(i),o=n(29),s=n(49),u=n(30),l=n(116),d=n(51),b=new o.e.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),p=new o.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),f=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var i,o,s,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]&&l[3],o=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=6,new Promise(function(){var e=Object(a.a)(c.a.mark((function e(u,l){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(o||!i){e.next=7;break}return Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],o||(s?s.err?(console.log("REST error for",t,s),o=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),o=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,w(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:return s=e.sent,e.prev=7,e.next=10,r.removeSignatureListener(u);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(7);case 14:return o=!0,console.log("Returning status",s),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s.b,isSigner:!1,isWritable:!1},{pubkey:o.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.e.TransactionInstruction({keys:i,programId:d.c,data:e.from([])})},h=function(){var e=Object(a.a)(c.a.mark((function e(t,n,i){var s,u,l,d,p,f,g,h,m,x,j,v,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new o.c(i,t,{preflightCommitment:"processed"}),u=function(){var e=Object(a.a)(c.a.mark((function e(){var t,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.fetchIdl(b,s);case 2:return t=e.sent,r=new o.b(t,b,s),e.next=6,r.account.candyMachine.fetch(n);case 6:return a=e.sent,e.abrupt("return",[r,a]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getSlot();case 2:return n=e.sent,e.next=5,i.getBlockTime(n);case 5:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=9;break}e.t0=void 0!==t;case 9:if(!e.t0){e.next=13;break}e.t2=t,e.next=14;break;case 13:e.t2=(new Date).getTime()/1e3;case 14:return e.abrupt("return",e.t2);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=5,Promise.all([u(),l()]);case 5:return d=e.sent,p=Object(r.a)(d,2),f=Object(r.a)(p[0],2),g=f[0],h=f[1],m=p[1],x=h.data.itemsAvailable.toNumber(),j=h.itemsRedeemed.toNumber(),v=x-j,y=(new Date).getTime()/1e3-m,null!==h.data.goLiveDate?h.data.goLiveDate+y:null,e.abrupt("return",{id:n,program:g,state:{authority:h.authority,itemsAvailable:x,itemsRedeemed:j,itemsRemaining:v,isSoldOut:0===v,isActive:!1,isPresale:!1,isWhitelistOnly:!1,goLiveDate:h.data.goLiveDate,treasury:h.wallet,tokenMint:h.tokenMint,gatekeeper:h.data.gatekeeper,endSettings:h.data.endSettings,whitelistMintSettings:h.data.whitelistMintSettings,hiddenSettings:h.data.hiddenSettings,price:h.data.price,retainAuthority:h.data.retainAuthority}});case 17:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer(),e.from("edition")],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer()],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("collection"),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(a.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer(),e.from("collection_authority"),r.toBuffer()],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.e.Keypair.generate(),e.next=3,Object(d.e)(r.publicKey,n);case 3:return a=e.sent[0],i=[r],e.t0=o.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=s.a.span,e.next=11,t.program.provider.connection.getMinimumBalanceForRentExemption(s.a.span);case 11:return e.t4=e.sent,e.t5=s.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=s.c.createInitMintInstruction(s.b,r.publicKey,0,n,n),e.t9=g(a,n,n,r.publicKey),e.t10=s.c.createMintToInstruction(s.b,r.publicKey,a,n,[],1),u=[e.t7,e.t8,e.t9,e.t10],e.t11=r,e.t12=a,e.next=23,Object(l.c)(t.program.provider.connection,t.program.provider.wallet,[u],[i],l.b.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,[],[]);case 23:return e.t13=e.sent.txs[0].txid,e.abrupt("return",{mint:e.t11,userTokenAccount:e.t12,transaction:e.t13});case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var a,i,b,f,h,O,k,w,S,T,C,P,M,A,R,E,K,I,N,D,W,_,B,F,L,U,z,G,Y,H,V,q=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=q.length>2&&void 0!==q[2]?q[2]:[],b=q.length>3&&void 0!==q[3]?q[3]:[],f=q.length>4?q[4]:void 0,h=null!==(a=null===f||void 0===f?void 0:f.mint)&&void 0!==a?a:o.e.Keypair.generate(),e.next=6,Object(d.e)(h.publicKey,n);case 6:if(O=e.sent[0],!t.state.tokenMint){e.next=13;break}return e.next=10,Object(d.e)(t.state.tokenMint,n);case 10:e.t0=e.sent[0],e.next=14;break;case 13:e.t0=n;case 14:if(k=e.t0,w=t.id,S=[],T=[],C=[],console.log("SetupState: ",f),f){e.next=39;break}return C.push(h),e.t1=T.push,e.t2=T,e.t3=o.e.SystemProgram,e.t4=n,e.t5=h.publicKey,e.t6=s.a.span,e.next=30,t.program.provider.connection.getMinimumBalanceForRentExemption(s.a.span);case 30:e.t7=e.sent,e.t8=s.b,e.t9={fromPubkey:e.t4,newAccountPubkey:e.t5,space:e.t6,lamports:e.t7,programId:e.t8},e.t10=e.t3.createAccount.call(e.t3,e.t9),e.t11=s.c.createInitMintInstruction(s.b,h.publicKey,0,n,n),e.t12=g(O,n,n,h.publicKey),e.t13=s.c.createMintToInstruction(s.b,h.publicKey,O,n,[],1),e.t14=[e.t10,e.t11,e.t12,e.t13],e.t1.apply.call(e.t1,e.t2,e.t14);case 39:if(!t.state.gatekeeper){e.next=54;break}return e.t15=S,e.next=43,Object(d.g)(n,t.state.gatekeeper.gatekeeperNetwork);case 43:if(e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!0,isSigner:!1},e.t15.push.call(e.t15,e.t17),!t.state.gatekeeper.expireOnUse){e.next=54;break}return S.push({pubkey:d.a,isWritable:!1,isSigner:!1}),e.t18=S,e.next=51,Object(d.f)(t.state.gatekeeper.gatekeeperNetwork);case 51:e.t19=e.sent[0],e.t20={pubkey:e.t19,isWritable:!1,isSigner:!1},e.t18.push.call(e.t18,e.t20);case 54:if(!t.state.whitelistMintSettings){e.next=61;break}return P=new o.e.PublicKey(t.state.whitelistMintSettings.mint),e.next=58,Object(d.e)(P,n);case 58:M=e.sent[0],S.push({pubkey:M,isWritable:!0,isSigner:!1}),t.state.whitelistMintSettings.mode.burnEveryTime&&(S.push({pubkey:P,isWritable:!0,isSigner:!1}),S.push({pubkey:n,isWritable:!1,isSigner:!0}));case 61:return t.state.tokenMint&&(S.push({pubkey:k,isWritable:!0,isSigner:!1}),S.push({pubkey:n,isWritable:!1,isSigner:!0})),e.next=64,x(h.publicKey);case 64:return A=e.sent,e.next=67,m(h.publicKey);case 67:return R=e.sent,e.next=70,j(w);case 70:return E=e.sent,K=Object(r.a)(E,2),I=K[0],N=K[1],console.log(S.map((function(e){return e.pubkey.toBase58()}))),e.t21=T,e.next=78,t.program.instruction.mintNft(N,{accounts:{candyMachine:w,candyMachineCreator:I,payer:n,wallet:t.state.treasury,mint:h.publicKey,metadata:A,masterEdition:R,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:p,tokenProgram:s.b,systemProgram:u.SystemProgram.programId,rent:o.e.SYSVAR_RENT_PUBKEY,clock:o.e.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:u.SYSVAR_SLOT_HASHES_PUBKEY,instructionSysvarAccount:o.e.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:S.length>0?S:void 0});case 78:return e.t22=e.sent,e.t21.push.call(e.t21,e.t22),e.next=82,v(w);case 82:return D=e.sent,W=Object(r.a)(D,1),_=W[0],e.next=87,t.program.provider.connection.getAccountInfo(_);case 87:if(!e.sent||!t.state.retainAuthority){e.next=118;break}return e.prev=89,e.next=92,t.program.account.collectionPda.fetch(_);case 92:return B=e.sent,console.log(B),F=B.mint,e.next=97,y(F,_);case 97:if(L=e.sent,console.log(F),!F){e.next=113;break}return e.next=102,x(F);case 102:return U=e.sent,e.next=105,m(F);case 105:return z=e.sent,console.log("Collection PDA: ",_.toBase58()),console.log("Authority: ",t.state.authority.toBase58()),e.t23=T,e.next=111,t.program.instruction.setCollectionDuringMint({accounts:{candyMachine:w,metadata:A,payer:n,collectionPda:_,tokenMetadataProgram:p,instructions:o.e.SYSVAR_INSTRUCTIONS_PUBKEY,collectionMint:F,collectionMetadata:U,collectionMasterEdition:z,authority:t.state.authority,collectionAuthorityRecord:L}});case 111:e.t24=e.sent,e.t23.push.call(e.t23,e.t24);case 113:e.next=118;break;case 115:e.prev=115,e.t25=e.catch(89),console.error(e.t25);case 118:return G=[T],Y=[C],e.prev=120,e.next=123,Object(l.c)(t.program.provider.connection,t.program.provider.wallet,G,Y,l.b.StopOnFailure,"singleGossip",(function(){}),(function(){return!1}),void 0,i,b);case 123:return H=e.sent.txs.map((function(e){return e.txid})),V=H[0],e.abrupt("return",{mintTxId:V,metadataKey:A});case 128:e.prev=128,e.t26=e.catch(120),console.log(e.t26);case 131:return e.abrupt("return",null);case 132:case"end":return e.stop()}}),e,null,[[89,115],[120,128]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(5).Buffer)},116:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return d}));var r,a=n(13),i=n(4),c=n(1),o=n.n(c),s=n(30),u=n(131),l=6e4;!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var d=function(){var e=Object(i.a)(o.a.mark((function e(t,n,i,c){var l,d,b,f,g,h,m,x,j,v,y,O,k,w,S,T,C,P,M=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=M.length>4&&void 0!==M[4]?M[4]:r.Parallel,d=M.length>5&&void 0!==M[5]?M[5]:"singleGossip",b=M.length>6&&void 0!==M[6]?M[6]:function(e,t){},f=M.length>7&&void 0!==M[7]?M[7]:function(e,t){return!1},g=M.length>8?M[8]:void 0,h=M.length>9&&void 0!==M[9]?M[9]:[],m=M.length>10&&void 0!==M[10]?M[10]:[],n.publicKey){e.next=9;break}throw new u.e;case 9:if(x=h,g){e.next=14;break}return e.next=13,t.getRecentBlockhash(d);case 13:g=e.sent;case 14:j=function(e){var t=i[e],r=c[e];if(0===t.length)return"continue";var o=new s.Transaction;t.forEach((function(e){return o.add(e)})),o.recentBlockhash=g.blockhash,o.setSigners.apply(o,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&o.partialSign.apply(o,Object(a.a)(r)),x.push(o)},v=0;case 16:if(!(v<i.length)){e.next=23;break}if("continue"!==j(v)){e.next=20;break}return e.abrupt("continue",20);case 20:v++,e.next=16;break;case 23:return x.push.apply(x,Object(a.a)(m)),y=x.filter((function(e){return e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),O=x.filter((function(e){return!e.signatures.find((function(e){return e.publicKey.equals(n.publicKey)}))})),e.next=28,n.signAllTransactions(y);case 28:k=e.sent,k=O.concat(k),w=[],console.log("Signed txns length",k.length,"vs handed in length",i.length),S=o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p({connection:t,signedTransaction:k[n]}),l===r.Parallel){e.next=22;break}return e.prev=2,e.next=5,a.then((function(e){var t=e.txid;e.slot;return b(t,n)}));case 5:w.push(a),e.next=20;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log("Failed at txn index:",n),console.log("Caught failure:",e.t0),f(k[n],n),l!==r.StopOnFailure){e.next=20;break}return e.t1=n,e.next=17,Promise.all(w);case 17:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 20:e.next=23;break;case 22:w.push(a);case 23:case"end":return e.stop()}}),e,null,[[2,8]])})),T=0;case 34:if(!(T<k.length)){e.next=42;break}return e.delegateYield(S(T),"t0",36);case 36:if("object"!==typeof(C=e.t0)){e.next=39;break}return e.abrupt("return",C.v);case 39:T++,e.next=34;break;case 42:if(l===r.Parallel){e.next=47;break}return e.next=45,Promise.all(w);case 45:return P=e.sent,e.abrupt("return",{number:k.length,txs:P});case 47:return e.t1=k.length,e.next=50,Promise.all(w);case 50:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 52:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),b=function(){return(new Date).getTime()/1e3};function p(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(o.a.mark((function e(t){var n,r,a,c,s,u,d,p,f,h,x,v,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,c=void 0===a?l:a,s=n.serialize(),u=b(),d=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),f=!1,Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f||!(b()-u<c)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,m(p,c,r,"recent",!0);case 13:if(h=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!h.err){e.next=19;break}throw console.error(h.err),new Error("Transaction failed: Custom instruction error");case 19:d=(null===h||void 0===h?void 0:h.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return x=null,e.prev=28,e.next=31,g(r,n,"single");case 31:x=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!x||!x.err){e.next=47;break}if(!x.logs){e.next=46;break}v=x.logs.length-1;case 39:if(!(v>=0)){e.next=46;break}if(!(y=x.logs[v]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+y.slice("Program log: ".length));case 43:--v,e.next=39;break;case 46:throw new Error(JSON.stringify(x.err));case 47:return e.prev=47,f=!0,e.finish(47);case 50:return console.log("Latency",p,b()-u),e.abrupt("return",{txid:p,slot:d});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function g(e,t,n){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function e(t,n,r){var a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString("base64"),s=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t,n){return x.apply(this,arguments)}function x(){return x=Object(i.a)(o.a.mark((function e(t,n,r){var a,c,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",c=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(i.a)(o.a.mark((function e(d,b){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(p){s=!0,console.error("WS error in setup",t,p)}case 2:if(s||!c){e.next=8;break}return Object(i.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,e.prev=8,e.next=11,r.removeSignatureListener(l);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:return s=!0,console.log("Returning status",u),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[8,13]])}))),x.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},217:function(e,t,n){},297:function(e,t){},299:function(e,t){},320:function(e,t){},321:function(e,t){},350:function(e,t){},351:function(e,t){},353:function(e,t){},395:function(e,t,n){},397:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(32),c=n.n(i),o=(n(217),n(29)),s=n(4),u=n(14),l=n(9),d=n(87),b=n(1),p=n.n(b),f=n(455),g=n(478),h=n(458),m=n(270),x=n(483),j=n(463),v=n(10),y=r.createContext({toggleColorMode:function(){}});function O(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){n?document.body.classList.add("dark"):document.body.classList.remove("dark")}),[n]),Object(v.jsx)(f.a,{style:{padding:10,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:12,backdropFilter:"blur(5px)"},children:Object(v.jsxs)(h.a,{container:!0,direction:"column",wrap:"nowrap",children:[Object(v.jsx)(g.a,{onClick:function(){a(!n)},children:Object(v.jsx)(j.a,{variant:"h3",align:"center",display:"inline",style:{color:"#fc02d6",fontFamily:"Rubik Moonrocks",fontWeight:"bold"},children:"STONER COW"})}),Object(v.jsx)(j.a,{variant:"caption",align:"center",display:"block",style:{color:"#c6c6c6"},children:"Tap to switch between light modes"})]})})}function k(){var e=r.useState("light"),t=Object(u.a)(e,2),n=t[0],a=t[1],i=r.useMemo((function(){return{toggleColorMode:function(){a((function(e){return"light"===e?"dark":"light"}))}}}),[]),c=r.useMemo((function(){return Object(m.a)({palette:{mode:n}})}),[n]);return Object(v.jsx)(y.Provider,{value:i,children:Object(v.jsx)(x.a,{theme:c,children:Object(v.jsx)(O,{})})})}var w=n(490),S=n(469),T=n(489),C=n(491),P=n(492);function M(){return Object(v.jsx)(C.a,{sx:{height:350,alignItems:"center",borderRadius:3},cols:1,children:K.map((function(e){return Object(v.jsx)(P.a,{children:Object(v.jsx)("img",{src:"".concat(e.img,"&fit=crop&auto=format"),srcSet:"".concat(e.img,"?fit=crop&auto=format&dpr=2 2x"),alt:e.title,loading:"lazy"})},e.img)}))})}var A,R,E,K=[{img:"https://arweave.net/FivbwTetOCXbY9DQkwwIz-kCbWSYtbU_FO5F4-fqcQc",title:"Cow_1"},{img:"https://arweave.net/3PkSeUgVD9kzm6Gk8-fheH5EmKyMGL5V3Pvle-HZ6U0",title:"Cow_2"},{img:"https://arweave.net/E3NzyvtJ3CiHtGkGAwLF0HA1R2dtUg8vCWfEkR5FTjc",title:"Cow_3"},{img:"https://arweave.net/1Hc4y5cndUIpi6rrym0SIoueia-zGN5loOYDVp7Iw7k",title:"Cow_4"},{img:"https://arweave.net/8t-EMaLYoKce0GtmKuODJBxrwYKtqqeD25Hm4fT_C3Q",title:"Cow_5"},{img:"https://arweave.net/CzzF60erwcAp-9OF7XuK1Qxg2zlHBuis1KoHDRa8dkg",title:"Cow_6"},{img:"https://arweave.net/fC8QEbIYYThizKIy_iMCX2RzuAlPty-Cej1TwQxgq3k",title:"Cow_7"},{img:"https://arweave.net/W3_f3gIeLg8gCjXh3-ZMWEQ-lYRAfQzVWWIGOJ0Nu5M",title:"Cow_8"},{img:"https://arweave.net/H_34tpRx8xtub0c_A2kzDgHbVeKfNR3NAGYzrZ9J8kQ",title:"Cow_9"},{img:"https://arweave.net/W_OvBzif_RUlQELPKiKhb4Wcs8eYF7R-ID5ntkF0Stc",title:"Cow_10"},{img:"https://arweave.net/ovfsKi4gGuOzAz_W86rnsuUN-gUXL3n-3hFRHtWhLoM",title:"Cow_11"},{img:"https://arweave.net/fBa1xjRUEpzEMvDny6UjC8JBsMldfb88sz1-BWLCYns",title:"Cow_12"}],I=(n(348),n(470)),N=n(211),D=n.n(N),W=n(267),_=n.n(W),B=n(477),F=n(479),L=n(488),U=n(113),z=n(468),G=n(482),Y=n(480),H=n(30),V=n(254),q=n(181),Q=n(107),J=n(51),Z=n(262),X=n(464),$=n(487),ee=Object(X.a)((function(e){return Object($.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.4),width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:0,marginBottom:e.spacing(.5),height:e.spacing(3.5),padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),te=function(e){var t=e.date,n=e.status,r=e.style,a=e.onComplete,i=ee();return t?Object(v.jsx)(Z.a,{date:t,onComplete:a,renderer:function(e){var t=e.days,a=e.hours,c=e.minutes,o=e.seconds;return a+=24*t,e.completed?n?Object(v.jsx)("span",{className:i.done,children:n}):null:Object(v.jsxs)("div",{className:i.root,style:r,children:[Object(v.jsxs)(f.a,{elevation:0,children:[Object(v.jsx)("span",{className:i.item,children:a<10?"0".concat(a):a}),Object(v.jsx)("span",{children:"hrs"})]}),Object(v.jsxs)(f.a,{elevation:0,children:[Object(v.jsx)("span",{className:i.item,children:c<10?"0".concat(c):c}),Object(v.jsx)("span",{children:"mins"})]}),Object(v.jsxs)(f.a,{elevation:0,children:[Object(v.jsx)("span",{className:i.item,children:o<10?"0".concat(o):o}),Object(v.jsx)("span",{children:"secs"})]})]})}}):null},ne=n(467),re=n(88),ae=n(266),ie=n(146),ce=Object(U.default)(g.a)(A||(A=Object(d.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  background: '#000000';\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),oe=function(e){var t=e.onMint,n=e.candyMachine,a=e.isMinting,i=e.setIsMinting,c=e.isActive,o=Object(V.b)(),l=Object(ae.b)(),d=Object(r.useState)(!1),b=Object(u.a)(d,2),f=b[0],g=b[1],h=Object(re.useGateway)(),m=h.requestGatewayToken,x=h.gatewayStatus,j=Object(r.useState)(-1),y=Object(u.a)(j,2),O=y[0],k=y[1],w=Object(r.useState)(!1),S=Object(u.a)(w,2),T=S[0],C=S[1],P=Object(r.useState)(!1),M=Object(u.a)(P,2),A=M[0],R=M[1];Object(r.useEffect)((function(){var e=function(){var e=Object(s.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.removeAccountChangeListener)(l.connection,O);case 2:return e.next=4,t();case 4:C(!1),g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();f&&T&&e()}),[f,T,l.connection,t,O]);var E=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current}(x);return Object(r.useEffect)((function(){var e=[re.GatewayStatus.NOT_REQUESTED,re.GatewayStatus.REFRESH_TOKEN_REQUIRED],t=[].concat(e,[re.GatewayStatus.UNKNOWN]);e.find((function(e){return E===e}))&&!t.find((function(e){return x===e}))&&i(!0),console.log("change: ",re.GatewayStatus[x])}),[A,E,x]),Object(r.useEffect)((function(){A&&x===re.GatewayStatus.ACTIVE&&(console.log("Minting after token active"),R(!1),t())}),[A,x,t]),Object(v.jsx)(ce,{style:{color:"#000000",backgroundColor:"#fc02d6",fontFamily:"Nunito",fontWeight:"bold",fontSize:20},disabled:a||!c,onClick:Object(s.a)(p.a.mark((function e(){var r,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.state.isActive||null===n||void 0===n||!n.state.gatekeeper){e.next=35;break}if((r=n.state.gatekeeper.gatekeeperNetwork.toBase58())!==J.b){e.next=14;break}if(x!==re.GatewayStatus.ACTIVE){e.next=8;break}return e.next=6,t();case 6:e.next=12;break;case 8:return R(!0),e.next=11,m();case 11:console.log("after: ",x);case 12:e.next=33;break;case 14:if("ttib7tuX8PTWPqFsmUFQTj78MbRhUmqxidJRDv4hRRE"!==r&&"tibePmPaoTgrs929rWpu755EXaxC7M3SthVCf6GzjZt"!==r){e.next=31;break}return C(!0),e.next=18,Object(ie.findGatewayToken)(l.connection,o.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 18:if(null===(a=e.sent)||void 0===a||!a.isValid()){e.next=24;break}return e.next=22,t();case 22:e.next=29;break;case 24:return window.open("https://verify.encore.fans/?gkNetwork=".concat(r),"_blank"),e.next=27,Object(ie.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(o.publicKey,n.state.gatekeeper.gatekeeperNetwork);case 27:i=e.sent,k(Object(ie.onGatewayTokenChange)(l.connection,i,(function(){return g(!0)}),"confirmed"));case 29:e.next=33;break;case 31:throw C(!1),new Error("Unknown Gatekeeper Network: ".concat(r));case 33:e.next=38;break;case 35:return e.next=37,t();case 37:C(!1);case 38:case"end":return e.stop()}}),e)}))),variant:"contained",children:null!==n&&void 0!==n&&n.state.isSoldOut?"SOLD OUT":a?Object(v.jsx)(ne.a,{}):null!==n&&void 0!==n&&n.state.isPresale||null!==n&&void 0!==n&&n.state.isWhitelistOnly?"WHITELIST MINT":"MINT"})};var se=Object(U.default)(q.a)(R||(R=Object(d.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: #5e4cdf;\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),ue=U.default.div(E||(E=Object(d.a)([""])));function le(e){return Object(v.jsx)(L.a,Object(l.a)(Object(l.a)({},e),{},{children:Object(v.jsxs)("svg",{viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(v.jsx)("circle",{cx:"64",cy:"64",r:"64",fill:"url(#paint0_linear)"}),Object(v.jsx)("path",{d:"M110.584 64.9142H99.142C99.142 41.7651 80.173 23 56.7724 23C33.6612 23 14.8716 41.3057 14.4118 64.0583C13.936 87.577 36.241 108 60.0186 108H63.0094C83.9723 108 112.069 91.7667 116.459 71.9874C117.27 68.3413 114.358 64.9142 110.584 64.9142ZM39.7689 65.9454C39.7689 69.0411 37.2095 71.5729 34.0802 71.5729C30.9509 71.5729 28.3916 69.0399 28.3916 65.9454V56.8414C28.3916 53.7457 30.9509 51.2139 34.0802 51.2139C37.2095 51.2139 39.7689 53.7457 39.7689 56.8414V65.9454ZM59.5224 65.9454C59.5224 69.0411 56.9631 71.5729 53.8338 71.5729C50.7045 71.5729 48.1451 69.0399 48.1451 65.9454V56.8414C48.1451 53.7457 50.7056 51.2139 53.8338 51.2139C56.9631 51.2139 59.5224 53.7457 59.5224 56.8414V65.9454Z",fill:"url(#paint1_linear)"}),Object(v.jsxs)("defs",{children:[Object(v.jsxs)("linearGradient",{id:"paint0_linear",x1:"64",y1:"0",x2:"64",y2:"128",gradientUnits:"userSpaceOnUse",children:[Object(v.jsx)("stop",{stopColor:"#534BB1"}),Object(v.jsx)("stop",{offset:"1",stopColor:"#551BF9"})]}),Object(v.jsxs)("linearGradient",{id:"paint1_linear",x1:"65.4998",y1:"23",x2:"65.4998",y2:"108",gradientUnits:"userSpaceOnUse",children:[Object(v.jsx)("stop",{stopColor:"white"}),Object(v.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.82"})]})]})]})}))}var de,be,pe=function(e){var t;return e.state.isActive&&null!==(t=e.state.endSettings)&&void 0!==t&&t.endSettingType.date?Object(J.h)(e.state.endSettings.number):Object(J.h)(e.state.goLiveDate?e.state.goLiveDate:e.state.isPresale?new o.a((new Date).getTime()/1e3):void 0)},fe=function(e){var t,n,a,i=Object(r.useState)(!1),c=Object(u.a)(i,2),d=c[0],b=c[1],m=Object(r.useState)(),x=Object(u.a)(m,2),y=x[0],O=x[1],C=Object(r.useState)({open:!1,message:"",severity:void 0}),P=Object(u.a)(C,2),A=P[0],R=P[1],E=Object(r.useState)(!1),K=Object(u.a)(E,2),N=K[0],W=K[1],L=Object(r.useState)(),U=Object(u.a)(L,2),q=U[0],Z=U[1],X=Object(r.useState)(),$=Object(u.a)(X,2),ee=$[0],ne=$[1],ae=Object(r.useState)(!1),ie=Object(u.a)(ae,2),ce=ie[0],de=ie[1],be=Object(r.useState)(!1),fe=Object(u.a)(be,2),ge=fe[0],he=fe[1],me=Object(r.useState)(!1),xe=Object(u.a)(me,2),je=xe[0],ve=xe[1],ye=Object(r.useState)(),Oe=Object(u.a)(ye,2),ke=Oe[0],we=Oe[1],Se=Object(r.useState)(!0),Te=Object(u.a)(Se,2),Ce=Te[0],Pe=Te[1],Me=Object(r.useState)(),Ae=Object(u.a)(Me,2),Re=Ae[0],Ee=Ae[1],Ke=e.rpcHost,Ie=Object(V.b)(),Ne=e.network,De=Object(r.useMemo)((function(){if(Ie&&Ie.publicKey&&Ie.signAllTransactions&&Ie.signTransaction)return{publicKey:Ie.publicKey,signAllTransactions:Ie.signAllTransactions,signTransaction:Ie.signTransaction}}),[Ie]),We=Object(r.useCallback)(Object(s.a)(p.a.mark((function t(){var n,r,a,i,c,s,l,d,b,f,g,h,m,x,j,v,y,k,w,S,T,C,P,M,A,E,K,I=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=I.length>0&&void 0!==I[0]?I[0]:"confirmed",De){t.next=3;break}return t.abrupt("return");case 3:if(void 0===e.error){t.next=6;break}return R({open:!0,message:e.error,severity:"error",hideDuration:null}),t.abrupt("return");case 6:if(r=new H.Connection(e.rpcHost,n),!e.candyMachineId){t.next=94;break}return t.prev=8,t.next=11,Object(Q.d)(De,e.candyMachineId,r);case 11:if(d=t.sent,console.log("Candy machine state: ",d),b=!(null===d||void 0===d||!d.state.goLiveDate)&&(null===d||void 0===d?void 0:d.state.goLiveDate.toNumber())<(new Date).getTime()/1e3,f=!1,g=!1,h=d.state.price,null===d||void 0===d||!d.state.whitelistMintSettings){t.next=39;break}return d.state.whitelistMintSettings.presale&&(!d.state.goLiveDate||d.state.goLiveDate.toNumber()>(new Date).getTime()/1e3)&&(f=!0),d.state.whitelistMintSettings.discountPrice?(we(d.state.whitelistMintSettings.discountPrice),h=d.state.whitelistMintSettings.discountPrice):(we(void 0),d.state.whitelistMintSettings.presale||(d.state.isWhitelistOnly=!0)),m=new o.e.PublicKey(d.state.whitelistMintSettings.mint),t.next=23,Object(J.e)(m,De.publicKey);case 23:return x=t.sent[0],t.prev=24,t.next=27,r.getTokenAccountBalance(x);case 27:j=t.sent,g=parseInt(j.value.amount)>0,de(g),d.state.isWhitelistOnly&&(b=g&&(f||b)),t.next=39;break;case 33:t.prev=33,t.t0=t.catch(24),de(!1),d.state.isWhitelistOnly&&(b=!1),console.log("There was a problem fetching whitelist token balance"),console.log(t.t0);case 39:if(h=g?h:d.state.price,null===d||void 0===d||!d.state.tokenMint){t.next=62;break}return v=new o.e.PublicKey(d.state.tokenMint),t.next=44,Object(J.e)(v,De.publicKey);case 44:return y=t.sent[0],t.prev=45,t.next=48,r.getTokenAccountBalance(y);case 48:k=t.sent,w=new o.a(k.value.amount).gte(h),ve(w),b=b&&w,t.next=60;break;case 54:t.prev=54,t.t1=t.catch(45),ve(!1),b=!1,console.log("There was a problem fetching SPL token balance"),console.log(t.t1);case 60:t.next=70;break;case 62:return t.t2=o.a,t.next=65,r.getBalance(De.publicKey);case 65:t.t3=t.sent,S=new t.t2(t.t3),T=S.gte(h),ve(T),b=b&&T;case 70:return null!==d&&void 0!==d&&null!==(a=d.state.endSettings)&&void 0!==a&&a.endSettingType.date&&(Z(Object(J.h)(d.state.endSettings.number)),d.state.endSettings.number.toNumber()<(new Date).getTime()/1e3&&(b=!1)),null!==d&&void 0!==d&&null!==(i=d.state.endSettings)&&void 0!==i&&i.endSettingType.amount?(C=Math.min(d.state.endSettings.number.toNumber(),d.state.itemsAvailable),d.state.itemsRedeemed<C?ne(C-d.state.itemsRedeemed):(ne(0),d.state.isSoldOut=!0)):ne(d.state.itemsRemaining),d.state.isSoldOut&&(b=!1),t.next=75,Object(Q.e)(e.candyMachineId);case 75:return P=t.sent,M=Object(u.a)(P,1),A=M[0],t.next=80,r.getAccountInfo(A);case 80:E=t.sent,W(d.state.isActive=b),he(d.state.isPresale=f),O(d),K=892+(E&&d.state.retainAuthority?182:0)+(d.state.tokenMint?66:0)+(d.state.whitelistMintSettings?34:0)+(null!==(c=d.state.whitelistMintSettings)&&void 0!==c&&null!==(s=c.mode)&&void 0!==s&&s.burnEveryTime?34:0)+(d.state.gatekeeper?33:0)+(null!==(l=d.state.gatekeeper)&&void 0!==l&&l.expireOnUse?66:0),Pe(K>1230),t.next=92;break;case 88:t.prev=88,t.t4=t.catch(8),t.t4 instanceof Error?t.t4.message==="Account does not exist ".concat(e.candyMachineId)?R({open:!0,message:"Couldn't fetch candy machine state from candy machine with address: ".concat(e.candyMachineId,", using rpc: ").concat(e.rpcHost,"! You probably typed the REACT_APP_CANDY_MACHINE_ID value in wrong in your .env file, or you are using the wrong RPC!"),severity:"error",hideDuration:null}):t.t4.message.startsWith("failed to get info about account")&&R({open:!0,message:"Couldn't fetch candy machine state with rpc: ".concat(e.rpcHost,"! This probably means you have an issue with the REACT_APP_SOLANA_RPC_HOST value in your .env file, or you are not using a custom RPC!"),severity:"error",hideDuration:null}):R({open:!0,message:"".concat(t.t4),severity:"error",hideDuration:null}),console.log(t.t4);case 92:t.next=95;break;case 94:R({open:!0,message:"Your REACT_APP_CANDY_MACHINE_ID value in the .env file doesn't look right! Make sure you enter it in as plain base-58 address!",severity:"error",hideDuration:null});case 95:case"end":return t.stop()}}),t,null,[[8,88],[24,33],[45,54]])}))),[De,e.candyMachineId,e.error,e.rpcHost]),_e=function(){var t=Object(s.a)(p.a.mark((function t(){var n,r,a,i,c,o,s,u,l,d,f=arguments;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>0&&void 0!==f[0]?f[0]:[],r=f.length>1&&void 0!==f[1]?f[1]:[],t.prev=2,b(!0),!(Ie.connected&&null!==y&&void 0!==y&&y.program&&Ie.publicKey)){t.next=40;break}if(!Ce||void 0!==Re){t.next=25;break}return R({open:!0,message:"Please sign account setup transaction",severity:"info"}),t.next=9,Object(Q.c)(y,Ie.publicKey);case 9:if(i=t.sent,c={err:!0},!i.transaction){t.next=15;break}return t.next=14,Object(Q.b)(i.transaction,e.txTimeout,e.connection,!0);case 14:c=t.sent;case 15:if(!c||c.err){t.next=20;break}Ee(i),R({open:!0,message:"Setup transaction succeeded! Please sign minting transaction",severity:"info"}),t.next=23;break;case 20:return R({open:!0,message:"Mint failed! Please try again!",severity:"error"}),b(!1),t.abrupt("return");case 23:t.next=26;break;case 25:R({open:!0,message:"Please sign minting transaction",severity:"info"});case 26:return t.next=28,Object(Q.f)(y,Ie.publicKey,n,r,null!==(a=i)&&void 0!==a?a:Re);case 28:if(o=t.sent,s={err:!0},u=null,!o){t.next=39;break}return t.next=34,Object(Q.b)(o.mintTxId,e.txTimeout,e.connection,!0);case 34:return s=t.sent,t.next=37,y.program.provider.connection.getAccountInfo(o.metadataKey,"processed");case 37:u=t.sent,console.log("Metadata status: ",!!u);case 39:s&&!s.err&&u?(ne(l=ee-1),W(y.state.isActive=l>0),y.state.isSoldOut=0===l,Ee(void 0),R({open:!0,message:"Congratulations! Mint succeeded!",severity:"success",hideDuration:7e3}),We("processed")):s&&!s.err?(R({open:!0,message:"Mint likely failed! Anti-bot SOL 0.01 fee potentially charged! Check the explorer to confirm the mint failed and if so, make sure you are eligible to mint before trying again.",severity:"error",hideDuration:8e3}),We()):(R({open:!0,message:"Mint failed! Please try again!",severity:"error"}),We());case 40:t.next=48;break;case 42:t.prev=42,t.t0=t.catch(2),d=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(console.log(t.t0),d="SOLD OUT!",window.location.reload()):312===t.t0.code&&(d="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x137")?(console.log(t.t0),d="SOLD OUT!"):t.t0.message.indexOf("0x135")&&(d="Insufficient funds to mint. Please fund your wallet."):d="Transaction timeout! Please try again.",R({open:!0,message:d,severity:"error"}),We();case 48:return t.prev=48,b(!1),t.finish(48);case 51:case"end":return t.stop()}}),t,null,[[2,42,48,51]])})));return function(){return t.apply(this,arguments)}}(),Be=function(){var e=!N||ge;e&&(y.state.isWhitelistOnly&&!ce&&(e=!1),q&&Date.now()>=q.getTime()&&(e=!1)),ge&&y.state.goLiveDate&&y.state.goLiveDate.toNumber()<=(new Date).getTime()/1e3&&he(y.state.isPresale=!1),W(y.state.isActive=e)};Object(r.useEffect)((function(){We()}),[De,e.candyMachineId,e.connection,We]),Object(r.useEffect)((function(){!function e(){setTimeout((function(){We(),e()}),2e4)}()}),[We]);var Fe=r.useState(!1),Le=Object(u.a)(Fe,2),Ue=Le[0],ze=Le[1],Ge=r.useRef(null),Ye=r.useRef(Ue);r.useEffect((function(){!0===Ye.current&&!1===Ue&&Ge.current.focus(),Ye.current=Ue}),[Ue]);var He=function(e){Ge.current&&Ge.current.contains(e.target)||ze(!1)};return Object(v.jsxs)(z.a,{maxWidth:"xs",style:{marginTop:10,position:"relative"},children:[Object(v.jsx)(r.StrictMode,{children:Object(v.jsx)(S.a,{injectFirst:!0,children:Object(v.jsx)(k,{})})}),Object(v.jsxs)(f.a,{style:{marginTop:10,paddingTop:10,paddingRight:24,paddingLeft:24,paddingBottom:10,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:12,backdropFilter:"blur(5px)"},children:[Object(v.jsx)(j.a,{align:"center",display:"block",style:{color:"#7241df"},children:Object(v.jsx)(r.StrictMode,{children:Object(v.jsx)(S.a,{injectFirst:!0,children:Object(v.jsx)(M,{})})})}),Object(v.jsx)(j.a,{variant:"caption",align:"center",display:"block",style:{marginTop:7,color:"#c6c6c6"},children:"Do you know who we are? *scrollable*"})]}),Object(v.jsxs)(f.a,{style:{marginTop:10,paddingTop:5,padding:24,paddingBottom:10,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:12,backdropFilter:"blur(5px)"},children:[Ie.connected?Object(v.jsxs)(v.Fragment,{children:[y&&Object(v.jsxs)(h.a,{container:!0,direction:"row",justifyContent:"center",wrap:"nowrap",children:[Object(v.jsxs)(h.a,{item:!0,xs:3,children:[Object(v.jsx)(j.a,{variant:"body2",color:"textSecondary",children:"Remaining"}),Object(v.jsx)(j.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:"".concat(ee)})]}),Object(v.jsxs)(h.a,{item:!0,xs:4,children:[Object(v.jsx)(j.a,{variant:"body2",color:"textSecondary",children:ce&&ke?"Discount Price":"Price"}),Object(v.jsx)(j.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:"\u25ce ".concat(ce&&ke?J.d.asNumber(ke):J.d.asNumber(y.state.price))})]}),Object(v.jsx)(h.a,{item:!0,xs:5,children:N&&q&&Date.now()<q.getTime()?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(te,{date:pe(y),style:{justifyContent:"flex-end"},status:"COMPLETED",onComplete:Be},"endSettings"),Object(v.jsx)(j.a,{variant:"caption",align:"center",display:"block",style:{fontWeight:"bold"},children:"TO END OF MINT"})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(te,{date:pe(y),style:{justifyContent:"flex-end"},status:null!==y&&void 0!==y&&null!==(t=y.state)&&void 0!==t&&t.isSoldOut||q&&Date.now()>q.getTime()?"COMPLETED":ge?"PRESALE":"LIVE",onComplete:Be},"goLive"),ge&&y.state.goLiveDate&&y.state.goLiveDate.toNumber()>(new Date).getTime()/1e3&&Object(v.jsx)(j.a,{variant:"caption",align:"center",display:"block",style:{fontWeight:"bold",fontFamily:"Nunito"},children:"UNTIL PUBLIC MINT"})]})})]}),Object(v.jsx)(ue,{children:null!==y&&void 0!==y&&y.state.isActive&&null!==y&&void 0!==y&&y.state.gatekeeper&&Ie.publicKey&&Ie.signTransaction?Object(v.jsx)(re.GatewayProvider,{wallet:{publicKey:Ie.publicKey||new H.PublicKey(Q.a),signTransaction:Ie.signTransaction},gatekeeperNetwork:null===y||void 0===y||null===(n=y.state)||void 0===n||null===(a=n.gatekeeper)||void 0===a?void 0:a.gatekeeperNetwork,clusterUrl:Ke,cluster:Ne,options:{autoShowModal:!1},children:Object(v.jsx)(oe,{candyMachine:y,isMinting:d,setIsMinting:function(e){return b(e)},onMint:_e,isActive:N||ge&&ce&&je})}):Object(v.jsx)(oe,{candyMachine:y,isMinting:d,setIsMinting:function(e){return b(e)},onMint:_e,isActive:N||ge&&ce&&je})})]}):Object(v.jsx)(se,{style:{color:"#000000",backgroundColor:"#fc02d6",fontFamily:"Nunito",fontWeight:"bold",fontSize:20},children:"Connect Wallet"}),Object(v.jsxs)(j.a,{variant:"caption",align:"center",display:"block",style:{marginTop:7,color:"#c6c6c6"},children:["Cant wait? Get WL token from  ",Object(v.jsx)(D.a,{})," below"]})]}),Object(v.jsxs)(f.a,{style:{marginTop:10,paddingTop:8,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:12,backdropFilter:"blur(5px)"},children:[Object(v.jsxs)(T.a,{spacing:1,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(v.jsx)(g.a,{disableElevation:!0,color:"secondary",sx:{fontFamily:"Nunito",color:"#ff029a",fontWeight:"bold"},ref:Ge,id:"composition-button","aria-controls":Ue?"composition-menu":void 0,"aria-expanded":Ue?"true":void 0,"aria-haspopup":"true",onClick:function(){ze((function(e){return!e}))},startIcon:Object(v.jsx)(_.a,{}),size:"large",children:"App Mint"}),Object(v.jsx)(B.a,{open:Ue,anchorEl:Ge.current,role:void 0,placement:"top-start",transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(v.jsx)(F.a,Object(l.a)(Object(l.a)({},t),{},{style:{transformOrigin:"bottom-start"===n?"left top":"left bottom"},children:Object(v.jsx)(f.a,{style:{marginBottom:10,backgroundColor:"rgba(30, 30, 30, 0.9)",borderRadius:8,maxWidth:250},children:Object(v.jsx)(I.a,{onClickAway:He,children:Object(v.jsxs)(w.a,{variant:"text",size:"large",orientation:"vertical",color:"secondary","aria-label":"text button group 4",children:[Object(v.jsx)(g.a,{onClick:He,sx:{color:"#9efffb",fontFamily:"Nunito",fontWeight:"bold"},startIcon:Object(v.jsx)(le,{}),href:"https://phantom.app/ul/browse/https%3A%2F%2Fstonercow.space%2F?ref=https%3A%2F%2Fstonercow.space%2F",children:"Phantom"}),Object(v.jsx)(j.a,{variant:"body2",align:"center",display:"block",style:{marginTop:5,padding:15,color:"#c6c6c6"},children:"Missing your fav app? Just paste our link in Solana apps browser"})]})})})}))}}),Object(v.jsx)(g.a,{sx:{color:"#90ff0a",fontFamily:"Nunito",fontWeight:"bold"},href:"",endIcon:Object(v.jsx)(D.a,{}),size:"large",children:"auction"})]}),Object(v.jsx)(j.a,{variant:"caption",align:"center",display:"block",style:{color:"#c6c6c6"},children:"Use App Mint button to get our SCOW via sphone"})]}),Object(v.jsxs)(f.a,{style:{marginTop:10,marginBottom:5,paddingTop:10,backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:12,backdropFilter:"blur(5px)"},children:[Object(v.jsx)(T.a,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,children:Object(v.jsxs)(w.a,{disableElevation:!0,variant:"text",size:"large","aria-label":"text button group 2",children:[Object(v.jsx)(g.a,{sx:{color:"#11f4e9",fontFamily:"Nunito",fontWeight:"bold"},href:"https://discord.gg/eA4xufkbHj",children:"Discord"}),Object(v.jsx)(g.a,{sx:{color:"#fc6220",fontFamily:"Nunito",fontWeight:"bold"},href:"https://twitter.com/stonercowclub?s=11",children:"Twitter"}),Object(v.jsx)(g.a,{sx:{color:"#fff20a",fontFamily:"Nunito",fontWeight:"bold"},href:"https://axon-group.gitbook.io/dev-diaries/",children:"Game Info*"})]})}),Object(v.jsx)(j.a,{variant:"caption",align:"center",display:"block",style:{marginBottom:10,color:"#c6c6c6"},children:"*Powered by Axon Games\xae"})]}),Object(v.jsx)(z.a,{maxWidth:"xs",style:{marginTop:10,position:"relative"},children:Object(v.jsx)(G.a,{open:A.open,autoHideDuration:void 0===A.hideDuration?6e3:A.hideDuration,onClose:function(){return R(Object(l.a)(Object(l.a)({},A),{},{open:!1}))},children:Object(v.jsx)(Y.a,{onClose:function(){return R(Object(l.a)(Object(l.a)({},A),{},{open:!1}))},severity:A.severity,children:A.message})})})]})},ge=n(116),he=n(484),me=n(485),xe=n(486),je=n(473),ve=n(474),ye=n(476),Oe=n(481),ke=n(269),we=n(475),Se=Object(ke.a)({palette:{type:"dark",primary:{main:"#f411ed"},secondary:{main:"#71fcd2"}}}),Te=void 0;var Ce=function(){try{return new o.e.PublicKey("DKztTbF62CfTYEPSj5ECA5PbjNiLrSM8oeu5krRtMXmP")}catch(e){return void console.log("Failed to construct CandyMachineId",e)}}(),Pe=null!==(de="mainnet-beta")?de:"devnet",Me=null!==(be="https://ssc-dao.genesysgo.net/")?be:o.e.clusterApiUrl("devnet"),Ae=new o.e.Connection(Me),Re=function(){var e=Object(r.useMemo)((function(){return Object(H.clusterApiUrl)(Pe)}),[]),t=Object(r.useMemo)((function(){return[Object(he.a)(),Object(me.a)(),Object(xe.a)(),Object(je.a)({network:Pe}),Object(ve.a)({network:Pe})]}),[]);return Object(v.jsx)(we.a,{theme:Se,children:Object(v.jsx)(ye.a,{endpoint:e,children:Object(v.jsx)(Oe.a,{wallets:t,autoConnect:!0,children:Object(v.jsx)(q.b,{children:Object(v.jsx)(fe,{candyMachineId:Ce,connection:Ae,txTimeout:ge.a,rpcHost:Me,network:Pe,error:Te})})})})})},Ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,493)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};n(395);c.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(Re,{})}),document.getElementById("root")),Ee()},51:function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return m}));var r=n(4),a=n(1),i=n.n(a),c=n(29),o=n(49),s=n(30),u=function(e){if(e)return new Date(1e3*e.toNumber())},l=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),d={format:function(e){return e?l.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/s.LAMPORTS_PER_SOL}},b=new c.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=new c.e.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),f="ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6",g=function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),o.b.toBuffer(),t.toBuffer()],b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("expire")],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("gateway"),e.from([0,0,0,0,0,0,0,0]),r.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}).call(this,n(5).Buffer)}},[[397,1,2]]]);
//# sourceMappingURL=main.90eda3e8.chunk.js.map